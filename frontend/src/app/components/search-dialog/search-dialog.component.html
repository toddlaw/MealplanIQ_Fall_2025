<h2 mat-dialog-title>Search Recipes</h2>
<mat-dialog-content>
  <mat-form-field appearance="fill" class="w-full">
    <mat-label>Enter keyword</mat-label>
    <input
      matInput
      [(ngModel)]="searchTerm"
      (input)="onSearchChange()"
      placeholder="e.g. ham, pasta, salad..."
    />
    <button matSuffix mat-icon-button (click)="onExactSearch()">
      <mat-icon>search</mat-icon>
    </button>
  </mat-form-field>

  <div *ngIf="suggestedResults.length > 0">
    <p *ngIf="!isExactSearch"><strong>Suggestions:</strong></p>
    <p *ngIf="isExactSearch"><strong>Search results for "{{ searchTerm }}":</strong></p>
    <mat-list>
      <mat-list-item
        *ngFor="let suggestion of suggestedResults"
        (click)="selectRecipe(suggestion)"
        class="cursor-pointer"
      >
        <img
          matListAvatar
          [src]="getImageUrl(suggestion.id)"
          alt="recipe image"
        />
        <div matLine><strong>{{ suggestion.title }}</strong></div>
        <div matLine class="text-sm text-gray-600">
          {{ suggestion.cuisine }}
        </div>
      </mat-list-item>
    </mat-list>
  </div>

  <div *ngIf="searchTerm && suggestedResults.length === 0" class="text-red-500">
    <span *ngIf="isExactSearch">No results found for "{{ searchTerm }}"</span>
    <span *ngIf="!isExactSearch">No matching recipes found.</span>
  </div>
</mat-dialog-content>

<mat-dialog-actions align="end">
  <button mat-button (click)="dialogRef.close()">Cancel</button>
</mat-dialog-actions>
